# FROM node:8-alpine
# FROM alpine
FROM alpine

ARG USER=docker
ARG UID=231072
ARG GID=231072

# RUN addgroup -S ${USER} -g ${GID} \
# && adduser -S -G ${USER} -u ${UID} ${USER} 

RUN addgroup -S 1000 && adduser -S ${USER} -G 1000


WORKDIR /app

RUN apk add npm 

COPY package.json /app

RUN npm install

COPY . /app

CMD ["npm", "run", "dev"]

USER ${USER}




# EXPOSE 7000

# CMD instructions wont be executed when the img is created, but when the container is started based on the img
# RUN npm run dev
# npm run dev
# CMD ["npm", "start"]